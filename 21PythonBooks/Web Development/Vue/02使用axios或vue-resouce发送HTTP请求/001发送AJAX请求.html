<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>发送AJAX请求</title>
		<script src="../js/vue.js"></script>
		<script src="../js/axios.js"></script>
		<script>
			window.onload = function () {
				var vm = new Vue({
					el: '#itany',
					data: {
						uid: '',
						user: {}
					},
					methods: {
						send(){
							axios({
								method: 'get',
								url: 'user.json'
							}).then(function(resp){
								console.log(resp.data);
							}).catch(resp=>{
								console.log('请求失败: ' + resp.status + ',' + resp.statusText);
							});
						},
						sendGet(){
							axios.get('https://api.github.com/').then(resp=>{
								console.log(resp.data);
							}).catch(err=>{
								console.log('请求失败: ' + err.status + err.statusText);
							});
						},
						sendPost(){
							axios.post('http://httpbin.org/post', {name: 'linda'}).then(resp=>{
								console.log(resp.data);
							}).catch(err=>{
								console.log('请求失败: ' + err.status + err.statusText);
							});
						},
						getUserById(uid){
							axios.get('https://api.github.com/users/' + this.uid)
							.then(resp=>{
								this.user = resp.data;
								console.log(this.user.name);
							});
						}
					}
				})
			}
		</script>
	</head>
	<body>
		<div id="itany">
			<button @click="send">发送AJAX请求</button>
			&nbsp;
			<button @click="sendGet">GET方式发送AJAX请求</button>
			&nbsp;
			<button @click="sendPost">POST方式发送AJAX请求</button>
			<p></p>
			GitHub ID: <input type="text" v-model="uid"><br>
			<button @click="getUserById(uid)">获取指定GitHub账户信息显示</button><br>
			姓名: {{user.name}}<br>
			头像: <img :src="user.avatar_url">
		</div>
	</body>
</html>
